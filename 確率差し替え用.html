<!doctype html><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>ç¢ºç‡ã‚¯ã‚¤ã‚ºï¼ˆä¸­2ï¼‰</title>
<style>
  body{margin:0;font:15px/1.5 system-ui,"Noto Sans JP";background:radial-gradient(900px 600px at 20% 10%,#ffe1ef 0,transparent 60%),radial-gradient(900px 600px at 80% 40%,#e1f0ff 0,transparent 60%),#fff7fb;color:#222}
  .w{max-width:980px;margin:auto;padding:14px;display:grid;gap:12px;grid-template-columns:280px 1fr}
  @media(max-width:860px){.w{grid-template-columns:1fr}}
  .p{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.08);padding:14px}
  h1{margin:8px 0 0;font-size:18px;text-align:center}
  .sub{margin:4px 0 14px;text-align:center;font-size:12px;opacity:.7}
  button{border:0;border-radius:12px;padding:10px 12px;font-weight:700;cursor:pointer}
  .lv{width:100%;display:flex;justify-content:space-between;gap:10px;align-items:center;margin:8px 0;border:1px solid rgba(0,0,0,.1);background:#fff}
  .lv:disabled{opacity:.45;cursor:not-allowed}
  .tag{font-size:12px;padding:4px 8px;border-radius:999px;border:1px solid rgba(255,106,162,.25);background:rgba(255,106,162,.12);color:#b0184f;white-space:nowrap}
  .lock{border-color:rgba(0,0,0,.1);background:rgba(0,0,0,.05);color:#666}
  .row{display:flex;gap:10px;align-items:flex-start;margin-top:10px}
  #bear{font-size:46px;line-height:1;transform-origin:center}
  #bear.cheer{animation:cheer .55s ease-in-out 0s 3}
  @keyframes cheer{0%{transform:rotate(0) scale(1)}25%{transform:rotate(-10deg) scale(1.05)}50%{transform:rotate(0) scale(1.08)}75%{transform:rotate(10deg) scale(1.05)}100%{transform:rotate(0) scale(1)}}
  #msg{flex:1;background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:14px;padding:10px 12px;box-shadow:0 10px 30px rgba(0,0,0,.08);font-size:13px}
  .pill{display:inline-block;font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid rgba(106,166,255,.25);background:rgba(106,166,255,.14);color:#1f4fae}
  .q{border:1px solid rgba(0,0,0,.08);border-radius:14px;padding:12px}
  .opt{display:block;border:1px solid rgba(0,0,0,.1);border-radius:12px;padding:10px;margin:8px 0;cursor:pointer;background:#fff}
  .opt:hover{background:rgba(255,106,162,.06);border-color:rgba(255,106,162,.25)}
  .btns{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
  .pri{background:#ff6aa2;color:#fff}
  .sec{background:rgba(0,0,0,.06)}
  .ghost{background:transparent;border:1px solid rgba(0,0,0,.15)}
  #res{display:none;margin-top:10px;border-radius:14px;padding:10px 12px;border:1px dashed rgba(0,0,0,.2);background:rgba(255,255,255,.7)}
  .ok{color:#16a34a;font-weight:900}.ng{color:#dc2626;font-weight:900}
  .small{font-size:12px;opacity:.7;margin-top:8px}
</style>

<h1>ç¢ºç‡ã‚¯ã‚¤ã‚ºï¼ˆä¸­å­¦2å¹´ï¼‰</h1>
<div class="sub">å„ç´š5å•ãƒ»3æŠï¼5å•ä¸­3å•æ­£è§£ã§æ¬¡ã®ç´šã¸ï¼é€²ç´šã™ã‚‹ã¨ğŸ»å…ˆç”ŸãŒã»ã‚ã‚‹ã‚ˆï¼</div>

<div class="w">
  <section class="p">
    <b>ãƒ¬ãƒ™ãƒ«é¸æŠ</b>
    <button class="lv" id="b">åˆç´šï¼ˆã‚µã‚¤ã‚³ãƒ­1å€‹ï¼ã‚«ãƒ¼ãƒ‰1æšï¼‰<span class="tag" id="tb">æŒ‘æˆ¦OK</span></button>
    <button class="lv" id="i">ä¸­ç´šï¼ˆã‚µã‚¤ã‚³ãƒ­2å€‹ï¼ã‚«ãƒ¼ãƒ‰2æšï¼‰<span class="tag lock" id="ti">ãƒ­ãƒƒã‚¯ä¸­</span></button>
    <button class="lv" id="a">ä¸Šç´šï¼ˆã‚µã‚¤ã‚³ãƒ­3å€‹ãªã©ï¼‰<span class="tag lock" id="ta">ãƒ­ãƒƒã‚¯ä¸­</span></button>

    <div class="row">
      <div id="bear" aria-hidden="true">ğŸ»</div>
      <div id="msg"><b>ãã¾å…ˆç”Ÿ</b>ã€Œãƒ¬ãƒ™ãƒ«ã‚’ãˆã‚‰ã‚“ã§ã­ã€‚5å•ä¸­3å•æ­£è§£ã§ã¤ãã¸é€²ã‚ã‚‹ã‚ˆï¼ã€<div class="small">â€»é€²ç´šã¯ã“ã®ç«¯æœ«ã®ãƒ–ãƒ©ã‚¦ã‚¶ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚</div></div>
    </div>

    <div class="btns"><button class="ghost" id="reset">é€²ç´šãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆ</button></div>
  </section>

  <section class="p">
    <div style="display:flex;justify-content:space-between;gap:10px;align-items:center">
      <b id="title">ã“ã“ã«å•é¡ŒãŒè¡¨ç¤ºã•ã‚Œã¾ã™</b>
      <span class="pill" id="pill">æœªé–‹å§‹</span>
    </div>
    <div class="q" style="margin-top:10px">
      <div id="qt">å·¦ã®ãƒ¬ãƒ™ãƒ«ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¦ãã ã•ã„ã€‚</div>
      <div id="ops"></div>
      <div class="btns">
        <button class="pri" id="go" disabled>è§£ç­”ã™ã‚‹</button>
        <button class="sec" id="nx" disabled>æ¬¡ã¸</button>
      </div>
      <div id="res"></div>
    </div>
  </section>
</div>

<script>
const L=[
 {k:"b",n:"åˆç´š",next:"i",q:[
  {t:"ã€ã‚µã‚¤ã‚³ãƒ­1å€‹ã€‘1å›ãµã£ã¦ã€Œ3ã€ãŒå‡ºã‚‹ç¢ºç‡ã¯ï¼Ÿ",c:["1/6","1/3","1/2"],a:0,
   e:"ã‚µã‚¤ã‚³ãƒ­ã¯1ã€œ6ãŒã™ã¹ã¦åŒã˜ç¢ºç‡ï¼ˆåŒæ§˜ã«ç¢ºã‹ã‚‰ã—ã„ï¼‰ã§å‡ºã¾ã™ã€‚çµæœã¯6é€šã‚Šã§ã€ã€3ãŒå‡ºã‚‹ã€ã¯ãã®ã†ã¡1é€šã‚Šã€‚ã ã‹ã‚‰1/6ã€‚ç¢ºç‡ã¯ã€Œæ¡ä»¶ã«åˆã†å ´åˆã®æ•°Ã·å…¨ä½“ã®å ´åˆã®æ•°ã€ã€‚æ•°ãˆãŸã‚‰åˆ†æ•°ã‚’ç´„åˆ†ã—ã€ç­”ãˆã‚’ç°¡å˜ãªå½¢ã«ã—ã¾ã™ã€‚"},
  {t:"ã€ã‚µã‚¤ã‚³ãƒ­1å€‹ã€‘å¶æ•°ï¼ˆ2,4,6ï¼‰ãŒå‡ºã‚‹ç¢ºç‡ã¯ï¼Ÿ",c:["1/2","1/3","2/3"],a:0,
   e:"å¶æ•°ã¯2ãƒ»4ãƒ»6ã®3é€šã‚Šã€‚å…¨ä½“ã¯6é€šã‚Šãªã®ã§3/6=1/2ã€‚ã¾ãšæ¡ä»¶ã«åˆã†ç›®ã‚’åˆ—æŒ™ã—ã¦æ•°ãˆè½ã¨ã—ã‚’é˜²ãã¾ã™ã€‚å¶æ•°ã¯ã€Œ2ã§å‰²ã‚Šåˆ‡ã‚Œã‚‹æ•°ã€ãªã®ã§å®šç¾©ã‚’ç¢ºèªã€‚3/6ã¯å…¨ä½“ã®åŠåˆ†ã¨ã„ã†æ„å‘³ã§ã€æœ€å¾Œã«ç´„åˆ†ã—ã¦ç­”ãˆã¾ã™ã€‚"},
  {t:"ã€ã‚µã‚¤ã‚³ãƒ­1å€‹ã€‘ã€Œ5ä»¥ä¸Šã€ãŒå‡ºã‚‹ç¢ºç‡ã¯ï¼Ÿ",c:["1/3","1/6","2/3"],a:0,
   e:"5ä»¥ä¸Šã¯5ã¨6ã®2é€šã‚Šã€‚å…¨6é€šã‚Šã‚ˆã‚Š2/6ã§ã™ã€‚ã€ä»¥ä¸Šã€ã¯ãã®æ•°ã‚‚å«ã‚€ã®ã§ã€5ã ã‘ã§ãªã6ã‚‚å¿…ãšæ•°ãˆã¾ã™ã€‚2/6ã¯ç´„åˆ†ã—ã¦1/3ã€‚æ¡ä»¶ã«å½“ã¦ã¯ã¾ã‚‹ç›®ã‚’å…ˆã«æ›¸ãå‡ºã—ã¦ã‹ã‚‰æ•°ãˆã€åˆ†æ•°ã‚’æ•´ç†ã™ã‚‹ã¨ãƒŸã‚¹ãŒæ¸›ã‚Šã¾ã™ã€‚"},
  {t:"ã€ã‚«ãƒ¼ãƒ‰1æšã€‘1ã€œ10ã®ã‚«ãƒ¼ãƒ‰ã‚’1æšå¼•ãã€‚7ã‚’å¼•ãç¢ºç‡ã¯ï¼Ÿ",c:["1/10","1/7","1/5"],a:0,
   e:"1ã€œ10ã®ã‚«ãƒ¼ãƒ‰ã¯10æšã§ã€ã©ã‚Œã‚‚ç­‰ç¢ºç‡ã«å¼•ã‹ã‚Œã¾ã™ã€‚7ã¯1æšã ã‘ãªã®ã§1/10ã€‚ã‚«ãƒ¼ãƒ‰å•é¡Œã§ã‚‚åˆ†æ¯ã¯å…¨æšæ•°ã€åˆ†å­ã¯æ¡ä»¶ã‚’æº€ãŸã™æšæ•°ã§ã™ã€‚ã¾ãšã€ŒåŒã˜ç¢ºç‡ã§é¸ã°ã‚Œã‚‹ã‹ã€ã‚’ç¢ºèªã—ã€å ´åˆã®æ•°ã§ç¢ºç‡ã‚’å‡ºã—ã¾ã™ã€‚"},
  {t:"ã€ã‚«ãƒ¼ãƒ‰1æšã€‘1ã€œ8ã®ã‚«ãƒ¼ãƒ‰ã‚’1æšå¼•ãã€‚3ã®å€æ•°ã‚’å¼•ãç¢ºç‡ã¯ï¼Ÿ",c:["1/4","1/3","3/8"],a:0,
   e:"1ã€œ8ã§3ã®å€æ•°ã¯3ã¨6ã®2æšã€‚å…¨8æšä¸­2æšãªã®ã§2/8=1/4ã€‚å€æ•°ã¯3,6,9â€¦ã¨ç¶šããŸã‚ã€ç¯„å›²(1ã€œ8)ã«å…¥ã‚‹ã‚‚ã®ã ã‘ã‚’é¸ã³ã¾ã™ã€‚ç¢ºç‡ã¯ã€Œæœ‰åˆ©ãªæšæ•°Ã·å…¨æšæ•°ã€ã€‚åˆ—æŒ™ã—ã¦æ•°ãˆã€æœ€å¾Œã«ç´„åˆ†ã—ã¦ç­”ãˆã¾ã™ã€‚"}
 ]},
 {k:"i",n:"ä¸­ç´š",next:"a",q:[
  {t:"ã€ã‚µã‚¤ã‚³ãƒ­2å€‹ã€‘2å€‹ãµã£ã¦ã€å‡ºãŸç›®ã®å’ŒãŒ7ã«ãªã‚‹ç¢ºç‡ã¯ï¼Ÿ",c:["1/6","1/12","1/9"],a:0,
   e:"ã‚µã‚¤ã‚³ãƒ­2å€‹ã®çµæœã¯(1ã€œ6,1ã€œ6)ã§36é€šã‚ŠãŒç­‰ç¢ºç‡ã€‚å’ŒãŒ7ã¯(1,6)(2,5)(3,4)(4,3)(5,2)(6,1)ã®6é€šã‚Šã€‚ã‚ˆã£ã¦6/36=1/6ã€‚é †åºãŒé•ãˆã°åˆ¥ã®çµæœã¨ã—ã¦æ•°ãˆã‚‹ç‚¹ãŒé‡è¦ã§ã™ã€‚"},
  {t:"ã€ã‚µã‚¤ã‚³ãƒ­2å€‹ã€‘å°‘ãªãã¨ã‚‚1ã¤ãŒã€Œ6ã€ã«ãªã‚‹ç¢ºç‡ã¯ï¼Ÿ",c:["11/36","1/6","5/36"],a:0,
   e:"ã€Œå°‘ãªãã¨ã‚‚1ã¤ãŒ6ã€ã¯è£œé›†åˆã‚’ä½¿ã†ã¨ç°¡å˜ã§ã™ã€‚ã©ã¡ã‚‰ã‚‚6ã§ãªã„ç¢ºç‡ã¯(5/6)Ã—(5/6)=25/36ã€‚æ±‚ã‚ã‚‹ç¢ºç‡ã¯1âˆ’25/36=11/36ã€‚ç›´æ¥æ•°ãˆã‚‹ã¨æ•°ãˆæ¼ã‚ŒãŒèµ·ãã‚„ã™ã„ã®ã§ã€åå¯¾ã‚’æ•°ãˆã‚‹æ–¹æ³•ã‚’è¦šãˆã¾ã™ã€‚"},
  {t:"ã€ã‚µã‚¤ã‚³ãƒ­2å€‹ã€‘2å€‹ã¨ã‚‚å¶æ•°ãŒå‡ºã‚‹ç¢ºç‡ã¯ï¼Ÿ",c:["1/4","1/2","1/6"],a:0,
   e:"å¶æ•°ãŒå‡ºã‚‹ç¢ºç‡ã¯å„ã‚µã‚¤ã‚³ãƒ­ã§3/6=1/2ã€‚ç‹¬ç«‹ã«èµ·ã“ã‚‹ã®ã§(1/2)Ã—(1/2)=1/4ã§ã™ã€‚å ´åˆã®æ•°ã§ã‚‚ã€å¶æ•°ã¯3é€šã‚Šãšã¤ãªã®ã§3Ã—3=9é€šã‚Šã€å…¨36é€šã‚Šã‚ˆã‚Š9/36=1/4ã€‚ç¢ºç‡ã¨å ´åˆã®æ•°ã®ä¸¡æ–¹ã§ç¢ºèªã™ã‚‹ã¨å®‰å¿ƒã§ã™ã€‚"},
  {t:"ã€ã‚«ãƒ¼ãƒ‰2æšã€‘1ã€œ5ã®ã‚«ãƒ¼ãƒ‰ã‚’æˆ»ã•ãš2æšå¼•ãã€‚åˆè¨ˆãŒ6ã«ãªã‚‹ç¢ºç‡ã¯ï¼Ÿï¼ˆé †ã«å¼•ãï¼‰",c:["1/5","1/10","2/5"],a:0,
   e:"1ã€œ5ã‚’æˆ»ã•ãš2æšã€é †åºã‚ã‚Šã§å¼•ãã¨å…¨ä½“ã¯5Ã—4=20é€šã‚Šã€‚åˆè¨ˆ6ã¯(1,5)(2,4)(4,2)(5,1)ã®4é€šã‚Šãªã®ã§4/20=1/5ã€‚æˆ»ã•ãªã„ãŸã‚åŒã˜ã‚«ãƒ¼ãƒ‰ã¯2å›å‡ºã¾ã›ã‚“ã€‚é †åºã‚’åŒºåˆ¥ã™ã‚‹è¨­å®šã‹ã©ã†ã‹ã‚’æœ€åˆã«ç¢ºèªã—ã¾ã™ã€‚"},
  {t:"ã€ã‚«ãƒ¼ãƒ‰2æšã€‘èµ¤3æšãƒ»é’2æšã‹ã‚‰2æšåŒæ™‚ã«é¸ã¶ã€‚2æšã¨ã‚‚èµ¤ã®ç¢ºç‡ã¯ï¼Ÿ",c:["3/10","1/5","2/5"],a:0,
   e:"èµ¤3æšãƒ»é’2æšã‹ã‚‰2æšåŒæ™‚ã«é¸ã¶ã¨ã€å…¨ä½“ã¯5C2=10é€šã‚Šã€‚èµ¤2æšã¯3C2=3é€šã‚Šãªã®ã§3/10ã€‚é †ã«å¼•ã„ã¦ã‚‚(3/5)Ã—(2/4)=3/10ã§ä¸€è‡´ã—ã¾ã™ã€‚çµ„åˆã›ã¯ã€ŒåŒæ™‚ã«é¸ã¶ã€ã€ç©ã¯ã€Œé †ã«èµ·ã“ã‚‹ã€ã¨ä½¿ã„åˆ†ã‘ã‚‹ã¨æ•´ç†ã§ãã¾ã™ã€‚"}
 ]},
 {k:"a",n:"ä¸Šç´š",next:null,q:[
  {t:"ã€ã‚µã‚¤ã‚³ãƒ­3å€‹ã€‘3å€‹ãµã£ã¦ã€3å€‹ã¨ã‚‚åŒã˜ç›®ã«ãªã‚‹ç¢ºç‡ã¯ï¼Ÿ",c:["1/36","1/18","1/216"],a:0,
   e:"ã‚µã‚¤ã‚³ãƒ­3å€‹ã¯6Ã—6Ã—6=216é€šã‚ŠãŒç­‰ç¢ºç‡ã€‚3å€‹ã¨ã‚‚åŒã˜ç›®ã¯(1,1,1)ã€œ(6,6,6)ã®6é€šã‚Šã ã‘ãªã®ã§6/216=1/36ã€‚å…¨ä½“ã¯ç©ã§ä¸€æ°—ã«å‡ºã—ã€æ¡ä»¶ã«åˆã†çµ„ã ã‘ã‚’æ•°ãˆã‚‹ã¨è¨ˆç®—ãŒçŸ­ããªã‚Šã¾ã™ã€‚"},
  {t:"ã€ã‚µã‚¤ã‚³ãƒ­3å€‹ã€‘å°‘ãªãã¨ã‚‚1ã¤ãŒã€Œ6ã€ã«ãªã‚‹ç¢ºç‡ã¯ï¼Ÿ",c:["91/216","11/36","125/216"],a:0,
   e:"3å€‹ã§å°‘ãªãã¨ã‚‚1ã¤ãŒ6ã¯è£œé›†åˆãŒä¾¿åˆ©ã€‚ã©ã‚Œã‚‚6ã§ãªã„ã®ã¯å„ã‚µã‚¤ã‚³ãƒ­5é€šã‚Šãªã®ã§5^3=125é€šã‚Šã€‚å…¨ä½“216é€šã‚Šã‚ˆã‚Š1âˆ’125/216=91/216ã€‚å€‹æ•°ãŒå¢—ãˆã‚‹ã»ã©ç›´æ¥æ•°ãˆã¯å¤§å¤‰ãªã®ã§ã€è£œé›†åˆã§ä¸€ç™ºè¨ˆç®—ã§ãã‚‹å½¢ã«ç›´ã—ã¾ã™ã€‚"},
  {t:"ã€ã‚µã‚¤ã‚³ãƒ­3å€‹ã€‘3å€‹ã®ç›®ã®å’ŒãŒ10ã«ãªã‚‹ç¢ºç‡ã¯ï¼Ÿ",c:["1/8","1/9","5/54"],a:0,
   e:"å’Œ10ã«ãªã‚‹(a,b,c)ã‚’1ã€œ6ã§æ•°ãˆã¾ã™ã€‚aã‚’1ã€œ6ã§å›ºå®šã—ã€ãã®ã¨ãã®(b,c)ã®å’Œã‚’å ´åˆåˆ†ã‘ã—ã¦æ•°ãˆã‚‹ã¨åˆè¨ˆ27é€šã‚Šã€‚å…¨ä½“216é€šã‚Šã‚ˆã‚Š27/216=1/8ã€‚è¡¨ã«ã—ã¦ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã¨æ¼ã‚Œã‚„é‡è¤‡ã‚’é˜²ã’ã¾ã™ã€‚"},
  {t:"ã€ã‚«ãƒ¼ãƒ‰3æšã€‘1ã€œ6ã®ã‚«ãƒ¼ãƒ‰ã‹ã‚‰æˆ»ã•ãš3æšå¼•ãã€‚ã™ã¹ã¦å¶æ•°ã®ç¢ºç‡ã¯ï¼Ÿï¼ˆåŒæ™‚ã«é¸ã¶ï¼‰",c:["1/20","1/10","3/20"],a:0,
   e:"1ã€œ6ã‹ã‚‰3æšåŒæ™‚ã«é¸ã¶å…¨ä½“ã¯6C3=20é€šã‚Šã€‚å…¨ã¦å¶æ•°ã«ãªã‚‹ã«ã¯{2,4,6}ã®3æšã‚’å…¨éƒ¨å¼•ã1é€šã‚Šã®ã¿ã€‚ã‚ˆã£ã¦1/20ã€‚çµ„åˆã›ã¯é †åºã‚’åŒºåˆ¥ã—ãªã„ã®ã§ã€åŒæ™‚ã«é¸ã¶å ´é¢ã«åˆã„ã¾ã™ã€‚æ¡ä»¶ãŒå³ã—ã„ã¨ãã¯ã€ŒæˆåŠŸãŒä½•é€šã‚Šã‹ã€ã‚’å…ˆã«è€ƒãˆã‚‹ã¨é€Ÿã„ã§ã™ã€‚"},
  {t:"ã€ã‚«ãƒ¼ãƒ‰3æšã€‘èµ¤3ãƒ»é’3ã‹ã‚‰3æšåŒæ™‚ã«é¸ã¶ã€‚ã¡ã‚‡ã†ã©èµ¤2æšã®ç¢ºç‡ã¯ï¼Ÿ",c:["9/20","1/2","3/10"],a:0,
   e:"èµ¤3ãƒ»é’3ã‹ã‚‰3æšåŒæ™‚ã«é¸ã³ã€ã¡ã‚‡ã†ã©èµ¤2æšã€‚èµ¤ã¯3C2=3é€šã‚Šã€é’ã¯3C1=3é€šã‚Šã§3Ã—3=9é€šã‚Šã€‚å…¨ä½“ã¯6C3=20é€šã‚Šã ã‹ã‚‰9/20ã€‚æ¡ä»¶ãŒè¤‡æ•°ã‚ã‚‹ã¨ãã¯ã€å„ã‚°ãƒ«ãƒ¼ãƒ—ã®é¸ã³æ–¹ã‚’æ›ã‘ç®—ã—ã¦æ•´ç†ã—ã¾ã™ã€‚"}
 ]}
];

const $=s=>document.querySelector(s),K="prob2_v1";
let P=JSON.parse(localStorage.getItem(K)||'{"u":{"b":1,"i":0,"a":0}}'),S={lv:null,i:0,ok:0,done:0};

const setLocks=_=>{
  ["i","a"].forEach(k=>{
    $("#"+k).disabled=!P.u[k];
    $("#t"+k).className="tag "+(P.u[k]?"":"lock");
    $("#t"+k).textContent=P.u[k]?"æŒ‘æˆ¦OK":"ãƒ­ãƒƒã‚¯ä¸­";
  });
};
const say=t=>$("#msg").innerHTML="<b>ãã¾å…ˆç”Ÿ</b>ã€Œ"+t+"ã€";
const cheer=_=>{const b=$("#bear");b.classList.remove("cheer");void b.offsetWidth;b.classList.add("cheer");};

const cur=_=>L.find(x=>x.k===S.lv);
const head=txt=>$("#title").textContent=txt;
const pill=(txt,ok)=>{const p=$("#pill");p.textContent=txt;p.style.background=ok===1?"rgba(23,163,74,.14)":ok===0?"rgba(220,38,38,.12)":"rgba(106,166,255,.14)";
  p.style.color=ok===1?"#0d7a33":ok===0?"#991b1b":"#1f4fae";};
const render=_=>{
  const q=cur().q[S.i];
  head(`${cur().n}ï¼šç¬¬${S.i+1}å• / 5`); pill("å›ç­”ã—ã¦ã­",2);
  $("#qt").textContent=q.t;
  $("#ops").innerHTML=q.c.map((v,j)=>`<label class=opt><input type=radio name=ch value=${j}> ${v}</label>`).join("");
  $("#go").disabled=1; $("#nx").disabled=1; $("#res").style.display="none"; S.done=0;
  $("#ops").addEventListener("change",_=>!S.done&&($("#go").disabled=0),{once:true});
};

const start=k=>{
  S={lv:k,i:0,ok:0,done:0};
  say(cur().n+"ã ã­ï¼è½ã¡ç€ã„ã¦æ•°ãˆã¦ã„ã“ã†ã€‚ã¾ãšã¯ç¬¬1å•ï¼"); render();
};

$("#go").onclick=_=>{
  if(S.done) return;
  const q=cur().q[S.i],v=+$('input[name="ch"]:checked')?.value;
  if(isNaN(v)) return;
  S.done=1;
  const good=v===q.a; if(good) S.ok++;
  $("#res").style.display="block";
  $("#res").innerHTML=`<span class=${good?"ok":"ng"}>${good?"æ­£è§£ï¼":"ä¸æ­£è§£â€¦"}<\/span>ã€€æ­£ã—ã„ç­”ãˆï¼š<b>${q.c[q.a]}<\/b><div style="margin-top:6px;font-size:13px;line-height:1.65"><b>è§£èª¬ï¼š</b>${q.e}<\/div>`;
  $("#go").disabled=1; $("#nx").disabled=0;
  say(good?"ã„ã„ã­ï¼æ•°ãˆæ–¹ãŒåˆã£ã¦ã‚‹ã‚ˆï¼":"ã ã„ã˜ã‚‡ã†ã¶ã€‚è§£èª¬ã§ã€å…¨ä½“ã€ã¨ã€æ¡ä»¶ã€ã‚’ç¢ºèªã—ã‚ˆã†ï¼");
};

$("#nx").onclick=_=>{
  if(S.i<4){S.i++; pill("æ¬¡ã®å•é¡Œï¼",2); render();}
  else{
    const pass=S.ok>=3, lv=cur();
    head(`${lv.n}ï¼šçµæœ`); pill(`${pass?"ã‚¯ãƒªã‚¢ï¼":"ã‚ã¨ä¸€æ­©â€¦"} ${S.ok}/5`, pass?1:0);
    $("#qt").textContent=`ã“ã®ãƒ¬ãƒ™ãƒ«ã¯çµ‚äº†ï¼ æ­£è§£æ•°ï¼š${S.ok}/5`;
    $("#ops").innerHTML=""; $("#go").disabled=1; $("#nx").disabled=1;
    $("#res").style.display="block";
    $("#res").innerHTML=`<b>${lv.n} çµæœ</b><br>æ­£è§£ï¼š<b>${S.ok}</b> / 5<br>åˆ¤å®šï¼š<b>${pass?"åˆæ ¼ï¼ˆæ¬¡ã®ç´šã¸ï¼‰":"ã‚‚ã†ä¸€åº¦ãƒãƒ£ãƒ¬ãƒ³ã‚¸"}</b><div style="margin-top:8px;font-size:13px;line-height:1.65">ã‚³ãƒ„ï¼šåˆ†æ¯ï¼ˆå…¨ä½“ï¼‰ã¨åˆ†å­ï¼ˆæ¡ä»¶ï¼‰ã‚’å…ˆã«æ±ºã‚ã‚‹ã€‚2å€‹ä»¥ä¸Šã¯ã€Œé †åºã‚’åŒºåˆ¥ã™ã‚‹ã‹ã€ã‚’æœ€åˆã«ç¢ºèªã™ã‚‹ã¨ãƒŸã‚¹ãŒæ¸›ã‚‹ã‚ˆã€‚</div>`;
    if(pass && lv.next){
      P.u[lv.next]=1; localStorage.setItem(K,JSON.stringify(P)); setLocks();
      cheer(); say(lv.next==="i"?"ã‚„ã£ãŸã­ï¼åˆç´šã‚¯ãƒªã‚¢ï¼ä¸­ç´šãŒé–‹æ”¾ï¼ãã®èª¿å­ï¼":"ã™ã”ã„ï¼ä¸­ç´šã‚¯ãƒªã‚¢ï¼ä¸Šç´šãŒé–‹æ”¾ï¼ãã¾å…ˆç”Ÿã€æ„Ÿå‹•â€¦ï¼");
    }else say(pass?"ã‚¯ãƒªã‚¢ï¼ã‚‚ã£ã¨ç·´ç¿’å•é¡Œã‚’å¢—ã‚„ã—ã¦ã‚‚ã„ã„ã­ã€‚":"æƒœã—ã„ï¼è§£èª¬ã‚’èª­ã¿ç›´ã—ã¦ã‚‚ã†ä¸€å›æŒ‘æˆ¦ã—ã‚ˆã†ã€‚æ¬¡ã¯ãã£ã¨ã§ãã‚‹ã‚ˆã€‚");
  }
};

["b","i","a"].forEach(k=>$("#"+k).onclick=_=>start(k));
$("#reset").onclick=_=>{
  P={u:{b:1,i:0,a:0}}; localStorage.setItem(K,JSON.stringify(P)); setLocks(); cheer();
  say("ãƒªã‚»ãƒƒãƒˆã—ãŸã‚ˆã€‚æœ€åˆã‹ã‚‰ä¸€ç·’ã«ãŒã‚“ã°ã‚ã†ï¼");
  head("ã“ã“ã«å•é¡ŒãŒè¡¨ç¤ºã•ã‚Œã¾ã™"); pill("æœªé–‹å§‹",2);
  $("#qt").textContent="å·¦ã®ãƒ¬ãƒ™ãƒ«ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¦ãã ã•ã„ã€‚"; $("#ops").innerHTML="";
  $("#go").disabled=1; $("#nx").disabled=1; $("#res").style.display="none";
};
setLocks();
</script>
``